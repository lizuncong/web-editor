import{r as c,j as s}from"./index-BdYlP2Yh.js";import{a as u,u as C}from"./constant-CYgq_pMM.js";import{u as x}from"./index-Dn14wDo0.js";import{g as y}from"./index-DPPzlcor.js";const D="_container_11jyg_1",F="_header_11jyg_10",I="_list_11jyg_17",h={container:D,header:F,list:I},k=c.memo(n=>{const{settings:a,title:r,settingValue:l,onSettingValueChange:g}=n,e=c.useRef(l),i=c.useRef(g);e.current=l,i.current=g;const m=c.useCallback((t,f)=>{const d={...e.current,[t.id]:f};i.current(d)},[]);return s.jsxs("div",{className:h.container,children:[s.jsx("div",{className:h.header,children:r}),s.jsx("div",{className:h.list,children:a.map(t=>{const f=y(t.type),d=t.id?l[t.id]:{value:""};return s.jsx(f,{setting:t,value:d,onChange:S=>{m(t,S)}},t.id??t.label)})})]})}),V=c.memo(()=>{var p;const n=u(o=>o.editor.currentEditingForm),a=u(o=>o.editor.sectionConfigData),r=u(o=>o.editor.allSectionSchema),{t:l}=C(),{type:g,sectionId:e,blockId:i}=n,m=a.sections[e],t=m.settingsData.blocks[i],d=(p=r[m.type].blocks)==null?void 0:p.find(o=>o.type===g),{updateBlockConfigData:S}=x(),_=c.useCallback(o=>{console.log("newSettingValue...",o);const b={...t,settings:o};S(e,i,b)},[t,i,e,S]);return d?s.jsx(k,{title:l(d.name),settings:d.settings??[],settingValue:t.settings,onSettingValueChange:_}):s.jsx("div",{children:"not found"})}),v="_nodata_19oeg_1",j={nodata:v},E=c.memo(()=>{const n=u(t=>t.editor.currentEditingForm),a=u(t=>t.editor.sectionConfigData),r=u(t=>t.editor.allSectionSchema),{t:l}=C(),g=r[n.type],e=a.sections[n.sectionId],{updateSectionConfigSectionBySectionId:i}=x(),m=c.useCallback(t=>{console.log("newSettingValue...",t);const f={...e,settingsData:{...e.settingsData,settings:t}};i(n.sectionId,f)},[n,e,i]);return s.jsx(k,{title:l(g.name),settings:g.settings??[],settingValue:e.settingsData.settings,onSettingValueChange:m})}),W=c.memo(()=>{const n=u(r=>r.editor.currentEditingForm),{t:a}=C();if(!n)return s.jsx("div",{className:[j.container,j.nodata].join(" "),children:a("editor.nosetting")});if(n.sectionId&&!n.blockId)return s.jsx(E,{});if(n.sectionId&&n.blockId)return s.jsx(V,{})});export{W as default};
