import{_ as J,e as X,a4 as $,a9 as Z,a5 as _,q as ee,aa as te,ab as ne,G as E,j as oe,c as k,E as A,C as U,f as re,H as se,Q as ae,S as ie,d as ue,U as ce}from"./isVisible-B1n3f-qW.js";import{r,R as T}from"./index-5YH52zMZ.js";import{I as le}from"./useSize-CG-0m2SO.js";var de={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},fe=function(t,n){return r.createElement(le,J({},t,{ref:n,icon:de}))},ke=r.forwardRef(fe),h=X({},Z),me=h.version,w=h.render,pe=h.unmountComponentAtNode,S;try{var ve=Number((me||"").split(".")[0]);ve>=18&&(S=h.createRoot)}catch{}function I(e){var t=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&ee(t)==="object"&&(t.usingClientEntryPoint=e)}var C="__rc_react_root__";function be(e,t){I(!0);var n=t[C]||S(t);I(!1),n.render(e),t[C]=n}function Re(e,t){w==null||w(e,t)}function he(e,t){if(S){be(e,t);return}Re(e,t)}function ge(e){return W.apply(this,arguments)}function W(){return W=$(_().mark(function e(t){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Promise.resolve().then(function(){var s;(s=t[C])===null||s===void 0||s.unmount(),delete t[C]}));case 1:case"end":return o.stop()}},e)})),W.apply(this,arguments)}function _e(e){pe(e)}function Ee(e){return x.apply(this,arguments)}function x(){return x=$(_().mark(function e(t){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(S===void 0){o.next=2;break}return o.abrupt("return",ge(t));case 2:_e(t);case 3:case"end":return o.stop()}},e)})),x.apply(this,arguments)}const Ce=(e,t)=>(he(e,t),()=>Ee(t));let Se=Ce;function we(){return Se}const ye=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},Ne=te("Wave",e=>[ye(e)]),D=`${ne}-wave-target`;function y(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function We(e){const{borderTopColor:t,borderColor:n,backgroundColor:o}=getComputedStyle(e);return y(t)?t:y(n)?n:y(o)?o:null}function N(e){return Number.isNaN(e)?0:e}const xe=e=>{const{className:t,target:n,component:o,registerUnmount:s}=e,u=r.useRef(null),c=r.useRef(null);r.useEffect(()=>{c.current=s()},[]);const[d,g]=r.useState(null),[f,a]=r.useState([]),[p,v]=r.useState(0),[j,B]=r.useState(0),[P,q]=r.useState(0),[z,F]=r.useState(0),[M,H]=r.useState(!1),O={left:p,top:j,width:P,height:z,borderRadius:f.map(l=>`${l}px`).join(" ")};d&&(O["--wave-color"]=d);function L(){const l=getComputedStyle(n);g(We(n));const i=l.position==="static",{borderLeftWidth:m,borderTopWidth:b}=l;v(i?n.offsetLeft:N(-parseFloat(m))),B(i?n.offsetTop:N(-parseFloat(b))),q(n.offsetWidth),F(n.offsetHeight);const{borderTopLeftRadius:R,borderTopRightRadius:V,borderBottomLeftRadius:K,borderBottomRightRadius:Y}=l;a([R,V,Y,K].map(Q=>N(parseFloat(Q))))}if(r.useEffect(()=>{if(n){const l=E(()=>{L(),H(!0)});let i;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(L),i.observe(n)),()=>{E.cancel(l),i==null||i.disconnect()}}},[]),!M)return null;const G=(o==="Checkbox"||o==="Radio")&&(n==null?void 0:n.classList.contains(D));return r.createElement(oe,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(l,i)=>{var m,b;if(i.deadline||i.propertyName==="opacity"){const R=(m=u.current)===null||m===void 0?void 0:m.parentElement;(b=c.current)===null||b===void 0||b.call(c).then(()=>{R==null||R.remove()})}return!1}},(l,i)=>{let{className:m}=l;return r.createElement("div",{ref:A(u,i),className:k(t,m,{"wave-quick":G}),style:O})})},Oe=(e,t)=>{var n;const{component:o}=t;if(o==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",e==null||e.insertBefore(s,e==null?void 0:e.firstChild);const u=we();let c=null;function d(){return c}c=u(r.createElement(xe,Object.assign({},t,{target:e,registerUnmount:d})),s)},Le=(e,t,n)=>{const{wave:o}=r.useContext(U),[,s,u]=re(),c=se(f=>{const a=e.current;if(o!=null&&o.disabled||!a)return;const p=a.querySelector(`.${D}`)||a,{showEffect:v}=o||{};(v||Oe)(p,{className:t,token:s,component:n,event:f,hashId:u})}),d=r.useRef(null);return f=>{E.cancel(d.current),d.current=E(()=>{c(f)})}},Ae=e=>{const{children:t,disabled:n,component:o}=e,{getPrefixCls:s}=r.useContext(U),u=r.useRef(null),c=s("wave"),[,d]=Ne(c),g=Le(u,k(c,d),o);if(T.useEffect(()=>{const a=u.current;if(!a||a.nodeType!==1||n)return;const p=v=>{!ce(v.target)||!a.getAttribute||a.getAttribute("disabled")||a.disabled||a.className.includes("disabled")||a.className.includes("-leave")||g(v)};return a.addEventListener("click",p,!0),()=>{a.removeEventListener("click",p,!0)}},[n]),!T.isValidElement(t))return t??null;const f=ae(t)?A(ie(t),u):u;return ue(t,{ref:f})};export{ke as R,Ae as W};
