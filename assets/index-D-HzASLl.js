import{r as d,j as s}from"./index-CVdP2lfK.js";import{a as f,u as k}from"./constant-DX9nd415.js";import{u as x}from"./index-BKUDGSLI.js";import{g as D}from"./index-CETJiYvw.js";const I="_container_1osbo_1",v="_header_1osbo_10",F="_list_1osbo_17",V="_info_1osbo_23",b={container:I,header:v,list:F,info:V},y=t=>{var i;const r=(i=/\[(.*?)\]/.exec(t))==null?void 0:i[1],c=/\((.*?)\)/.exec(t),g=c?c[1]:"";return{bracketContent:r,urlContent:g}},_=d.memo(t=>{const{settings:r,info:c,title:g,settingValue:i,onSettingValueChange:a}=t,l=d.useRef(i),u=d.useRef(a);l.current=i,u.current=a;const n=d.useCallback((e,C)=>{const h={...l.current,[e.id]:C};u.current(h)},[]),{bracketContent:m,urlContent:S}=y(c??"");return s.jsxs("div",{className:b.container,children:[s.jsxs("div",{className:b.header,children:[g,c&&s.jsx("div",{children:s.jsx("a",{className:b.info,href:S,target:"_blank",rel:"noreferrer",children:m})})]}),s.jsx("div",{className:b.list,children:r.map(e=>{const C=D(e.type),h=e.id?i[e.id]:{value:""};return s.jsx(C,{setting:e,value:h,onChange:o=>{n(e,o)}},e.id??e.label)})})]})}),E=d.memo(()=>{var h;const t=f(o=>o.editor.currentEditingForm),r=f(o=>o.editor.sectionConfigData),c=f(o=>o.editor.allSectionSchema),{t:g}=k(),{type:i,sectionId:a,blockId:l}=t,u=r.sections[a],n=u.settingsData.blocks[l],m=c[u.type],S=(h=m.blocks)==null?void 0:h.find(o=>o.type===i),{updateBlockConfigData:e}=x(),C=d.useCallback(o=>{console.log("newSettingValue...",o);const j={...n,settings:o};e(a,l,j)},[n,l,a,e]);return S?s.jsx(_,{title:g(S.name),info:m.block_info?g(m.block_info):"",settings:S.settings??[],settingValue:n.settings,onSettingValueChange:C}):s.jsx("div",{children:"not found"})}),R="_nodata_19oeg_1",p={nodata:R},N=d.memo(()=>{const t=f(n=>n.editor.currentEditingForm),r=f(n=>n.editor.sectionConfigData),c=f(n=>n.editor.allSectionSchema),{t:g}=k(),i=c[t.type],a=r.sections[t.sectionId],{updateSectionConfigSectionBySectionId:l}=x(),u=d.useCallback(n=>{console.log("newSettingValue...",n);const m={...a,settingsData:{...a.settingsData,settings:n}};l(t.sectionId,m)},[t,a,l]);return s.jsx(_,{title:g(i.name),settings:i.settings??[],settingValue:a.settingsData.settings,onSettingValueChange:u})}),M=d.memo(()=>{const t=f(c=>c.editor.currentEditingForm),{t:r}=k();if(!t)return s.jsx("div",{className:[p.container,p.nodata].join(" "),children:r("editor.nosetting")});if(t.sectionId&&!t.blockId)return s.jsx(N,{});if(t.sectionId&&t.blockId)return s.jsx(E,{})});export{M as default};
