import{o as q,p as U,j as R,z as K,K as $,f as h,h as Q,n as b,ab as M,ac as E,N as X,I as Y,r as Z,d as G}from"./isVisible-ClYBi9Sb.js";import{R as L,r as u,f as J}from"./index-CQRfQbsL.js";var ge=function(){function e(t,n){U(this,e),R(this,"name",void 0),R(this,"style",void 0),R(this,"_keyframe",!0),this.name=t,this.style=n}return q(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();const V=L.createContext(void 0),d=100,ee=10,pe=d*ee,F={Modal:d,Drawer:d,Popover:d,Popconfirm:d,Tooltip:d,Tour:d,FloatButton:d},te={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function ne(e){return e in F}const Se=(e,t)=>{const[,n]=K(),a=L.useContext(V),o=ne(e);let r;if(t!==void 0)r=[t,t];else{let i=a??0;o?i+=(a?0:n.zIndexPopupBase)+F[e]:i+=te[e],r=[a===void 0?t:i,i]}return r},_e=(e,t,n)=>n!==void 0?n:`${e}-${t}`,ae=e=>({animationDuration:e,animationFillMode:"both"}),re=e=>({animationDuration:e,animationFillMode:"both"}),$e=function(e,t,n,a){const r=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${r}${e}-enter,
      ${r}${e}-appear
    `]:Object.assign(Object.assign({},ae(a)),{animationPlayState:"paused"}),[`${r}${e}-leave`]:Object.assign(Object.assign({},re(a)),{animationPlayState:"paused"}),[`
      ${r}${e}-enter${e}-enter-active,
      ${r}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${r}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}};var z=u.createContext(null),N=[];function oe(e,t){var n=u.useState(function(){if(!$())return null;var c=document.createElement("div");return c}),a=h(n,1),o=a[0],r=u.useRef(!1),i=u.useContext(z),s=u.useState(N),f=h(s,2),l=f[0],g=f[1],S=i||(r.current?void 0:function(c){g(function(m){var y=[c].concat(Q(m));return y})});function v(){o.parentElement||document.body.appendChild(o),r.current=!0}function p(){var c;(c=o.parentElement)===null||c===void 0||c.removeChild(o),r.current=!1}return b(function(){return e?i?i(v):v():p(),p},[e]),b(function(){l.length&&(l.forEach(function(c){return c()}),g(N))},[l]),[o,S]}function ie(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var a=n.style;a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll";var o,r;if(e){var i=getComputedStyle(e);a.scrollbarColor=i.scrollbarColor,a.scrollbarWidth=i.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),f=parseInt(s.width,10),l=parseInt(s.height,10);try{var g=f?"width: ".concat(s.width,";"):"",S=l?"height: ".concat(s.height,";"):"";M(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(g,`
`).concat(S,`
}`),t)}catch(c){console.error(c),o=f,r=l}}document.body.appendChild(n);var v=e&&o&&!isNaN(o)?o:n.offsetWidth-n.clientWidth,p=e&&r&&!isNaN(r)?r:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),E(t),{width:v,height:p}}function ue(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:ie(e)}function ce(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var se="rc-util-locker-".concat(Date.now()),O=0;function le(e){var t=!!e,n=u.useState(function(){return O+=1,"".concat(se,"_").concat(O)}),a=h(n,1),o=a[0];b(function(){if(t){var r=ue(document.body).width,i=ce();M(`
html body {
  overflow-y: hidden;
  `.concat(i?"width: calc(100% - ".concat(r,"px);"):"",`
}`),o)}else E(o);return function(){E(o)}},[t,o])}var de=!1;function fe(e){return de}var D=function(t){return t===!1?!1:!$()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},ye=u.forwardRef(function(e,t){var n=e.open,a=e.autoLock,o=e.getContainer;e.debug;var r=e.autoDestroy,i=r===void 0?!0:r,s=e.children,f=u.useState(n),l=h(f,2),g=l[0],S=l[1],v=g||n;u.useEffect(function(){(i||n)&&S(n)},[n,i]);var p=u.useState(function(){return D(o)}),c=h(p,2),m=c[0],y=c[1];u.useEffect(function(){var I=D(o);y(I??null)});var W=oe(v&&!m),w=h(W,2),x=w[0],A=w[1],_=m??x;le(a&&n&&$()&&(_===x||_===document.body));var P=null;if(s&&X(s)&&t){var H=s;P=H.ref}var j=Y(P,t);if(!v||!$()||m===void 0)return null;var B=_===!1||fe(),C=s;return t&&(C=u.cloneElement(s,{ref:j})),u.createElement(z.Provider,{value:A},B?C:Z.createPortal(C,_))});function ve(){var e=G({},J);return e.useId}var k=0,T=ve();const Ce=T?function(t){var n=T();return t||n}:function(t){var n=u.useState("ssr-id"),a=h(n,2),o=a[0],r=a[1];return u.useEffect(function(){var i=k;k+=1,r("rc_unique_".concat(i))},[]),t||o};export{pe as C,ge as K,ye as P,Se as a,_e as g,$e as i,Ce as u,V as z};
