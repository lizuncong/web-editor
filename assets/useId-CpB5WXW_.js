import{I as $,f as m,v as T,h as R,a3 as W,a4 as E,L as Q,G as U,r as z,s as A}from"./asyncToGenerator-DR1P90Uw.js";import{r as u,f as B}from"./index-r4zNxlyQ.js";const oe=(e,t,n)=>n!==void 0?n:`${e}-${t}`,F=e=>({animationDuration:e,animationFillMode:"both"}),G=e=>({animationDuration:e,animationFillMode:"both"}),ue=function(e,t,n,o){const a=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${a}${e}-enter,
      ${a}${e}-appear
    `]:Object.assign(Object.assign({},F(o)),{animationPlayState:"paused"}),[`${a}${e}-leave`]:Object.assign(Object.assign({},G(o)),{animationPlayState:"paused"}),[`
      ${a}${e}-enter${e}-enter-active,
      ${a}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${a}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}};var k=u.createContext(null),x=[];function Y(e,t){var n=u.useState(function(){if(!$())return null;var i=document.createElement("div");return i}),o=m(n,1),r=o[0],a=u.useRef(!1),c=u.useContext(k),s=u.useState(x),d=m(s,2),l=d[0],h=d[1],g=c||(a.current?void 0:function(i){h(function(v){var b=[i].concat(T(v));return b})});function f(){r.parentElement||document.body.appendChild(r),a.current=!0}function p(){var i;(i=r.parentElement)===null||i===void 0||i.removeChild(r),a.current=!1}return R(function(){return e?c?c(f):f():p(),p},[e]),R(function(){l.length&&(l.forEach(function(i){return i()}),h(x))},[l]),[r,g]}function J(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var o=n.style;o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll";var r,a;if(e){var c=getComputedStyle(e);o.scrollbarColor=c.scrollbarColor,o.scrollbarWidth=c.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),d=parseInt(s.width,10),l=parseInt(s.height,10);try{var h=d?"width: ".concat(s.width,";"):"",g=l?"height: ".concat(s.height,";"):"";W(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(h,`
`).concat(g,`
}`),t)}catch(i){console.error(i),r=d,a=l}}document.body.appendChild(n);var f=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,p=e&&a&&!isNaN(a)?a:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),E(t),{width:f,height:p}}function K(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:J(e)}function V(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var X="rc-util-locker-".concat(Date.now()),D=0;function Z(e){var t=!!e,n=u.useState(function(){return D+=1,"".concat(X,"_").concat(D)}),o=m(n,1),r=o[0];R(function(){if(t){var a=K(document.body).width,c=V();W(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(a,"px);"):"",`
}`),r)}else E(r);return function(){E(r)}},[t,r])}var ee=!1;function te(e){return ee}var P=function(t){return t===!1?!1:!$()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},ie=u.forwardRef(function(e,t){var n=e.open,o=e.autoLock,r=e.getContainer;e.debug;var a=e.autoDestroy,c=a===void 0?!0:a,s=e.children,d=u.useState(n),l=m(d,2),h=l[0],g=l[1],f=h||n;u.useEffect(function(){(c||n)&&g(n)},[n,c]);var p=u.useState(function(){return P(r)}),i=m(p,2),v=i[0],b=i[1];u.useEffect(function(){var _=P(r);b(_??null)});var H=Y(f&&!v),I=m(H,2),C=I[0],N=I[1],S=v??C;Z(o&&n&&$()&&(S===C||S===document.body));var w=null;if(s&&Q(s)&&t){var O=s;w=O.ref}var j=U(w,t);if(!f||!$()||v===void 0)return null;var q=S===!1||te(),y=s;return t&&(y=u.cloneElement(s,{ref:j})),u.createElement(k.Provider,{value:N},q?y:z.createPortal(y,S))});function ne(){var e=A({},B);return e.useId}var L=0,M=ne();const ce=M?function(t){var n=M();return t||n}:function(t){var n=u.useState("ssr-id"),o=m(n,2),r=o[0],a=o[1];return u.useEffect(function(){var c=L;L+=1,a("rc_unique_".concat(c))},[]),t||r};export{ie as P,oe as g,ue as i,ce as u};
