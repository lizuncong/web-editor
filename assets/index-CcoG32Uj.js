import{r,R as k}from"./index-PSy6XV_r.js";import{k as Ge,s as se,j as Oe,f as le,v as De,_ as xe,c as W,e as be,u as Ye,D as Be,n as Le,C as Ie,g as Ze,m as Qe,i as Me,t as Ue,h as We}from"./asyncToGenerator-xcl7VQ_B.js";import{u as Ke,F as Ce}from"./context-CIv62ubm.js";import{B as Je,t as et,r as Re,u as tt,l as nt,a as at,i as ot}from"./BaseInput-_2wLJO8t.js";import{u as ke}from"./isVisible-C6bBVD7M.js";import{o as rt}from"./omit-DXgDXInf.js";import{C as Xe}from"./ContextIsolator-Duj84DvI.js";import{R as vt,p as pt}from"./pickAttrs-DQhNJZDQ.js";import{u as st,g as Ve,a as He}from"./useVariants--VoUqTwg.js";import{u as lt}from"./useCSSVarCls-DSD0p_R5.js";import{u as $e}from"./useSize-Gy5yXyVh.js";import{I as it}from"./AntdIcon-CVu1b2SM.js";import{R as gt}from"./SearchOutlined-BDWg9lEb.js";import{c as qe}from"./reactNode-3yLeQM-2.js";import{B as ht}from"./button-BsploNTQ.js";import{R as xt}from"./index-9dSpv01f.js";var Ct=["show"];function ut(e,a){return r.useMemo(function(){var o={};a&&(o.show=Ge(a)==="object"&&a.formatter?a.formatter:!!a),o=se(se({},o),e);var t=o,n=t.show,l=Oe(t,Ct);return se(se({},l),{},{show:!!n,showFormatter:typeof n=="function"?n:void 0,strategy:l.strategy||function(i){return i.length}})},[e,a])}var yt=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],bt=r.forwardRef(function(e,a){var o=e.autoComplete,t=e.onChange,n=e.onFocus,l=e.onBlur,i=e.onPressEnter,u=e.onKeyDown,b=e.onKeyUp,m=e.prefixCls,c=m===void 0?"rc-input":m,v=e.disabled,R=e.htmlSize,D=e.className,p=e.maxLength,P=e.suffix,H=e.showCount,U=e.count,z=e.type,B=z===void 0?"text":z,Q=e.classes,x=e.classNames,C=e.styles,L=e.onCompositionStart,J=e.onCompositionEnd,X=Oe(e,yt),T=r.useState(!1),A=le(T,2),K=A[0],S=A[1],_=r.useRef(!1),O=r.useRef(!1),I=r.useRef(null),M=r.useRef(null),w=function(E){I.current&&et(I.current,E)},ae=ke(e.defaultValue,{value:e.value}),oe=le(ae,2),y=oe[0],g=oe[1],$=y==null?"":String(y),s=r.useState(null),h=le(s,2),d=h[0],ee=h[1],f=ut(U,H),te=f.max||p,q=f.strategy($),ie=!!te&&q>te;r.useImperativeHandle(a,function(){var V;return{focus:w,blur:function(){var Y;(Y=I.current)===null||Y===void 0||Y.blur()},setSelectionRange:function(Y,ge,me){var ce;(ce=I.current)===null||ce===void 0||ce.setSelectionRange(Y,ge,me)},select:function(){var Y;(Y=I.current)===null||Y===void 0||Y.select()},input:I.current,nativeElement:((V=M.current)===null||V===void 0?void 0:V.nativeElement)||I.current}}),r.useEffect(function(){O.current&&(O.current=!1),S(function(V){return V&&v?!1:V})},[v]);var de=function(E,Y,ge){var me=Y;if(!_.current&&f.exceedFormatter&&f.max&&f.strategy(Y)>f.max){if(me=f.exceedFormatter(Y,{max:f.max}),Y!==me){var ce,he;ee([((ce=I.current)===null||ce===void 0?void 0:ce.selectionStart)||0,((he=I.current)===null||he===void 0?void 0:he.selectionEnd)||0])}}else if(ge.source==="compositionEnd")return;g(me),I.current&&Re(I.current,E,t,me)};r.useEffect(function(){if(d){var V;(V=I.current)===null||V===void 0||V.setSelectionRange.apply(V,De(d))}},[d]);var fe=function(E){de(E,E.target.value,{source:"change"})},ue=function(E){_.current=!1,de(E,E.currentTarget.value,{source:"compositionEnd"}),J==null||J(E)},pe=function(E){i&&E.key==="Enter"&&!O.current&&(O.current=!0,i(E)),u==null||u(E)},F=function(E){E.key==="Enter"&&(O.current=!1),b==null||b(E)},j=function(E){S(!0),n==null||n(E)},G=function(E){O.current&&(O.current=!1),S(!1),l==null||l(E)},ne=function(E){g(""),w(),I.current&&Re(I.current,E,t)},Ae=ie&&"".concat(c,"-out-of-range"),we=function(){var E=rt(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return k.createElement("input",xe({autoComplete:o},E,{onChange:fe,onFocus:j,onBlur:G,onKeyDown:pe,onKeyUp:F,className:W(c,be({},"".concat(c,"-disabled"),v),x==null?void 0:x.input),style:C==null?void 0:C.input,ref:I,size:R,type:B,onCompositionStart:function(ge){_.current=!0,L==null||L(ge)},onCompositionEnd:ue}))},Ne=function(){var E=Number(te)>0;if(P||f.show){var Y=f.showFormatter?f.showFormatter({value:$,count:q,maxLength:te}):"".concat(q).concat(E?" / ".concat(te):"");return k.createElement(k.Fragment,null,f.show&&k.createElement("span",{className:W("".concat(c,"-show-count-suffix"),be({},"".concat(c,"-show-count-has-suffix"),!!P),x==null?void 0:x.count),style:se({},C==null?void 0:C.count)},Y),P)}return null};return k.createElement(Je,xe({},X,{prefixCls:c,className:W(D,Ae),handleReset:ne,value:$,focused:K,triggerFocus:w,suffix:Ne(),disabled:v,classes:Q,classNames:x,styles:C}),we())});const ct=e=>{let a;return typeof e=="object"&&(e!=null&&e.clearIcon)?a=e:e&&(a={clearIcon:k.createElement(vt,null)}),a};function dt(e,a){const o=r.useRef([]),t=()=>{o.current.push(setTimeout(()=>{var n,l,i,u;!((n=e.current)===null||n===void 0)&&n.input&&((l=e.current)===null||l===void 0?void 0:l.input.getAttribute("type"))==="password"&&(!((i=e.current)===null||i===void 0)&&i.input.hasAttribute("value"))&&((u=e.current)===null||u===void 0||u.input.removeAttribute("value"))}))};return r.useEffect(()=>(a&&t(),()=>o.current.forEach(n=>{n&&clearTimeout(n)})),[]),t}function St(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var wt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Pe=r.forwardRef((e,a)=>{const{prefixCls:o,bordered:t=!0,status:n,size:l,disabled:i,onBlur:u,onFocus:b,suffix:m,allowClear:c,addonAfter:v,addonBefore:R,className:D,style:p,styles:P,rootClassName:H,onChange:U,classNames:z,variant:B}=e,Q=wt(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:x,direction:C,allowClear:L,autoComplete:J,className:X,style:T,classNames:A,styles:K}=Ye("input"),S=x("input",o),_=r.useRef(null),O=lt(S),[I,M,w]=tt(S,H),[ae]=nt(S,O),{compactSize:oe,compactItemClassnames:y}=Ke(S,C),g=$e(G=>{var ne;return(ne=l??oe)!==null&&ne!==void 0?ne:G}),$=k.useContext(Be),s=i??$,{status:h,hasFeedback:d,feedbackIcon:ee}=r.useContext(Ce),f=He(h,n),te=St(e)||!!d;r.useRef(te);const q=dt(_,!0),ie=G=>{q(),u==null||u(G)},de=G=>{q(),b==null||b(G)},fe=G=>{q(),U==null||U(G)},ue=(d||m)&&k.createElement(k.Fragment,null,m,d&&ee),pe=ct(c??L),[F,j]=st("input",B,t);return I(ae(k.createElement(bt,Object.assign({ref:Le(a,_),prefixCls:S,autoComplete:J},Q,{disabled:s,onBlur:ie,onFocus:de,style:Object.assign(Object.assign({},T),p),styles:Object.assign(Object.assign({},K),P),suffix:ue,allowClear:pe,className:W(D,H,w,O,y,X),onChange:fe,addonBefore:R&&k.createElement(Xe,{form:!0,space:!0},R),addonAfter:v&&k.createElement(Xe,{form:!0,space:!0},v),classNames:Object.assign(Object.assign(Object.assign({},z),A),{input:W({[`${S}-sm`]:g==="small",[`${S}-lg`]:g==="large",[`${S}-rtl`]:C==="rtl"},z==null?void 0:z.input,A.input,M),variant:W({[`${S}-${F}`]:j},Ve(S,f)),affixWrapper:W({[`${S}-affix-wrapper-sm`]:g==="small",[`${S}-affix-wrapper-lg`]:g==="large",[`${S}-affix-wrapper-rtl`]:C==="rtl"},M),wrapper:W({[`${S}-group-rtl`]:C==="rtl"},M),groupWrapper:W({[`${S}-group-wrapper-sm`]:g==="small",[`${S}-group-wrapper-lg`]:g==="large",[`${S}-group-wrapper-rtl`]:C==="rtl",[`${S}-group-wrapper-${F}`]:j},Ve(`${S}-group-wrapper`,f,d),M)})}))))});var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Et=function(a,o){return r.createElement(it,xe({},a,{ref:o,icon:zt}))},Rt=r.forwardRef(Et);const Ot=e=>{const{getPrefixCls:a,direction:o}=r.useContext(Ie),{prefixCls:t,className:n}=e,l=a("input-group",t),i=a("input"),[u,b,m]=nt(i),c=W(l,m,{[`${l}-lg`]:e.size==="large",[`${l}-sm`]:e.size==="small",[`${l}-compact`]:e.compact,[`${l}-rtl`]:o==="rtl"},b,n),v=r.useContext(Ce),R=r.useMemo(()=>Object.assign(Object.assign({},v),{isFormItemInput:!1}),[v]);return u(r.createElement("span",{className:c,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(Ce.Provider,{value:R},e.children)))},It=e=>{const{componentCls:a,paddingXS:o}=e;return{[a]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:o,"&-rtl":{direction:"rtl"},[`${a}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${a}-sm ${a}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${a}-lg ${a}-input`]:{paddingInline:e.paddingXS}}}},$t=Ze(["Input","OTP"],e=>{const a=Qe(e,at(e));return[It(a)]},ot);var Pt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const At=r.forwardRef((e,a)=>{const{value:o,onChange:t,onActiveChange:n,index:l,mask:i}=e,u=Pt(e,["value","onChange","onActiveChange","index","mask"]),b=o&&typeof i=="string"?i:o,m=p=>{t(l,p.target.value)},c=r.useRef(null);r.useImperativeHandle(a,()=>c.current);const v=()=>{Me(()=>{var p;const P=(p=c.current)===null||p===void 0?void 0:p.input;document.activeElement===P&&P&&P.select()})},R=p=>{const{key:P,ctrlKey:H,metaKey:U}=p;P==="ArrowLeft"?n(l-1):P==="ArrowRight"?n(l+1):P==="z"&&(H||U)&&p.preventDefault(),v()},D=p=>{p.key==="Backspace"&&!o&&n(l-1),v()};return r.createElement(Pe,Object.assign({type:i===!0?"password":"text"},u,{ref:c,value:b,onInput:m,onFocus:v,onKeyDown:R,onKeyUp:D,onMouseDown:v,onMouseUp:v}))});var Nt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};function Ee(e){return(e||"").split("")}const jt=e=>{const{index:a,prefixCls:o,separator:t}=e,n=typeof t=="function"?t(a):t;return n?r.createElement("span",{className:`${o}-separator`},n):null},_t=r.forwardRef((e,a)=>{const{prefixCls:o,length:t=6,size:n,defaultValue:l,value:i,onChange:u,formatter:b,separator:m,variant:c,disabled:v,status:R,autoFocus:D,mask:p,type:P,onInput:H,inputMode:U}=e,z=Nt(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:B,direction:Q}=r.useContext(Ie),x=B("otp",o),C=pt(z,{aria:!0,data:!0,attr:!0}),[L,J,X]=$t(x),T=$e(s=>n??s),A=r.useContext(Ce),K=He(A.status,R),S=r.useMemo(()=>Object.assign(Object.assign({},A),{status:K,hasFeedback:!1,feedbackIcon:null}),[A,K]),_=r.useRef(null),O=r.useRef({});r.useImperativeHandle(a,()=>({focus:()=>{var s;(s=O.current[0])===null||s===void 0||s.focus()},blur:()=>{var s;for(let h=0;h<t;h+=1)(s=O.current[h])===null||s===void 0||s.blur()},nativeElement:_.current}));const I=s=>b?b(s):s,[M,w]=r.useState(()=>Ee(I(l||"")));r.useEffect(()=>{i!==void 0&&w(Ee(i))},[i]);const ae=Ue(s=>{w(s),H&&H(s),u&&s.length===t&&s.every(h=>h)&&s.some((h,d)=>M[d]!==h)&&u(s.join(""))}),oe=Ue((s,h)=>{let d=De(M);for(let f=0;f<s;f+=1)d[f]||(d[f]="");h.length<=1?d[s]=h:d=d.slice(0,s).concat(Ee(h)),d=d.slice(0,t);for(let f=d.length-1;f>=0&&!d[f];f-=1)d.pop();const ee=I(d.map(f=>f||" ").join(""));return d=Ee(ee).map((f,te)=>f===" "&&!d[te]?d[te]:f),d}),y=(s,h)=>{var d;const ee=oe(s,h),f=Math.min(s+h.length,t-1);f!==s&&ee[s]!==void 0&&((d=O.current[f])===null||d===void 0||d.focus()),ae(ee)},g=s=>{var h;(h=O.current[s])===null||h===void 0||h.focus()},$={variant:c,disabled:v,status:K,mask:p,type:P,inputMode:U};return L(r.createElement("div",Object.assign({},C,{ref:_,className:W(x,{[`${x}-sm`]:T==="small",[`${x}-lg`]:T==="large",[`${x}-rtl`]:Q==="rtl"},X,J)}),r.createElement(Ce.Provider,{value:S},Array.from({length:t}).map((s,h)=>{const d=`otp-${h}`,ee=M[h]||"";return r.createElement(r.Fragment,{key:d},r.createElement(At,Object.assign({ref:f=>{O.current[h]=f},index:h,size:T,htmlSize:1,className:`${x}-input`,onChange:y,value:ee,onActiveChange:g,autoFocus:h===0&&D},$)),h<t-1&&r.createElement(jt,{separator:m,index:h,prefixCls:x}))}))))});var Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Tt=function(a,o){return r.createElement(it,xe({},a,{ref:o,icon:Ft}))},Mt=r.forwardRef(Tt),Vt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Dt=e=>e?r.createElement(Rt,null):r.createElement(Mt,null),Bt={click:"onClick",hover:"onMouseOver"},Lt=r.forwardRef((e,a)=>{const{disabled:o,action:t="click",visibilityToggle:n=!0,iconRender:l=Dt}=e,i=r.useContext(Be),u=o??i,b=typeof n=="object"&&n.visible!==void 0,[m,c]=r.useState(()=>b?n.visible:!1),v=r.useRef(null);r.useEffect(()=>{b&&c(n.visible)},[b,n]);const R=dt(v),D=()=>{var T;if(u)return;m&&R();const A=!m;c(A),typeof n=="object"&&((T=n.onVisibleChange)===null||T===void 0||T.call(n,A))},p=T=>{const A=Bt[t]||"",K=l(m),S={[A]:D,className:`${T}-icon`,key:"passwordIcon",onMouseDown:_=>{_.preventDefault()},onMouseUp:_=>{_.preventDefault()}};return r.cloneElement(r.isValidElement(K)?K:r.createElement("span",null,K),S)},{className:P,prefixCls:H,inputPrefixCls:U,size:z}=e,B=Vt(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:Q}=r.useContext(Ie),x=Q("input",U),C=Q("input-password",H),L=n&&p(C),J=W(C,P,{[`${C}-${z}`]:!!z}),X=Object.assign(Object.assign({},rt(B,["suffix","iconRender","visibilityToggle"])),{type:m?"text":"password",className:J,prefixCls:x,suffix:L});return z&&(X.size=z),r.createElement(Pe,Object.assign({ref:Le(a,v)},X))});var Kt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const kt=r.forwardRef((e,a)=>{const{prefixCls:o,inputPrefixCls:t,className:n,size:l,suffix:i,enterButton:u=!1,addonAfter:b,loading:m,disabled:c,onSearch:v,onChange:R,onCompositionStart:D,onCompositionEnd:p}=e,P=Kt(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:H,direction:U}=r.useContext(Ie),z=r.useRef(!1),B=H("input-search",o),Q=H("input",t),{compactSize:x}=Ke(B,U),C=$e(y=>{var g;return(g=l??x)!==null&&g!==void 0?g:y}),L=r.useRef(null),J=y=>{y!=null&&y.target&&y.type==="click"&&v&&v(y.target.value,y,{source:"clear"}),R==null||R(y)},X=y=>{var g;document.activeElement===((g=L.current)===null||g===void 0?void 0:g.input)&&y.preventDefault()},T=y=>{var g,$;v&&v(($=(g=L.current)===null||g===void 0?void 0:g.input)===null||$===void 0?void 0:$.value,y,{source:"input"})},A=y=>{z.current||m||T(y)},K=typeof u=="boolean"?r.createElement(gt,null):null,S=`${B}-button`;let _;const O=u||{},I=O.type&&O.type.__ANT_BUTTON===!0;I||O.type==="button"?_=qe(O,Object.assign({onMouseDown:X,onClick:y=>{var g,$;($=(g=O==null?void 0:O.props)===null||g===void 0?void 0:g.onClick)===null||$===void 0||$.call(g,y),T(y)},key:"enterButton"},I?{className:S,size:C}:{})):_=r.createElement(ht,{className:S,type:u?"primary":void 0,size:C,disabled:c,key:"enterButton",onMouseDown:X,onClick:T,loading:m,icon:K},u),b&&(_=[_,qe(b,{key:"addonAfter"})]);const M=W(B,{[`${B}-rtl`]:U==="rtl",[`${B}-${C}`]:!!C,[`${B}-with-button`]:!!u},n),w=Object.assign(Object.assign({},P),{className:M,prefixCls:Q,type:"search"}),ae=y=>{z.current=!0,D==null||D(y)},oe=y=>{z.current=!1,p==null||p(y)};return r.createElement(Pe,Object.assign({ref:Le(L,a),onPressEnter:A},w,{size:C,onCompositionStart:ae,onCompositionEnd:oe,addonAfter:_,suffix:i,onChange:J,disabled:c}))});var Ht=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Ut=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],je={},re;function Wt(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(a&&je[o])return je[o];var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),l=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),i=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),u=Ut.map(function(m){return"".concat(m,":").concat(t.getPropertyValue(m))}).join(";"),b={sizingStyle:u,paddingSize:l,borderSize:i,boxSizing:n};return a&&o&&(je[o]=b),b}function Xt(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;re||(re=document.createElement("textarea"),re.setAttribute("tab-index","-1"),re.setAttribute("aria-hidden","true"),re.setAttribute("name","hiddenTextarea"),document.body.appendChild(re)),e.getAttribute("wrap")?re.setAttribute("wrap",e.getAttribute("wrap")):re.removeAttribute("wrap");var n=Wt(e,a),l=n.paddingSize,i=n.borderSize,u=n.boxSizing,b=n.sizingStyle;re.setAttribute("style","".concat(b,";").concat(Ht)),re.value=e.value||e.placeholder||"";var m=void 0,c=void 0,v,R=re.scrollHeight;if(u==="border-box"?R+=i:u==="content-box"&&(R-=l),o!==null||t!==null){re.value=" ";var D=re.scrollHeight-l;o!==null&&(m=D*o,u==="border-box"&&(m=m+l+i),R=Math.max(m,R)),t!==null&&(c=D*t,u==="border-box"&&(c=c+l+i),v=R>c?"":"hidden",R=Math.min(c,R))}var p={height:R,overflowY:v,resize:"none"};return m&&(p.minHeight=m),c&&(p.maxHeight=c),p}var qt=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],_e=0,Fe=1,Te=2,Gt=r.forwardRef(function(e,a){var o=e,t=o.prefixCls,n=o.defaultValue,l=o.value,i=o.autoSize,u=o.onResize,b=o.className,m=o.style,c=o.disabled,v=o.onChange;o.onInternalAutoSize;var R=Oe(o,qt),D=ke(n,{value:l,postState:function(s){return s??""}}),p=le(D,2),P=p[0],H=p[1],U=function(s){H(s.target.value),v==null||v(s)},z=r.useRef();r.useImperativeHandle(a,function(){return{textArea:z.current}});var B=r.useMemo(function(){return i&&Ge(i)==="object"?[i.minRows,i.maxRows]:[]},[i]),Q=le(B,2),x=Q[0],C=Q[1],L=!!i,J=function(){try{if(document.activeElement===z.current){var s=z.current,h=s.selectionStart,d=s.selectionEnd,ee=s.scrollTop;z.current.setSelectionRange(h,d),z.current.scrollTop=ee}}catch{}},X=r.useState(Te),T=le(X,2),A=T[0],K=T[1],S=r.useState(),_=le(S,2),O=_[0],I=_[1],M=function(){K(_e)};We(function(){L&&M()},[l,x,C,L]),We(function(){if(A===_e)K(Fe);else if(A===Fe){var $=Xt(z.current,!1,x,C);K(Te),I($)}else J()},[A]);var w=r.useRef(),ae=function(){Me.cancel(w.current)},oe=function(s){A===Te&&(u==null||u(s),i&&(ae(),w.current=Me(function(){M()})))};r.useEffect(function(){return ae},[]);var y=L?O:null,g=se(se({},m),y);return(A===_e||A===Fe)&&(g.overflowY="hidden",g.overflowX="hidden"),r.createElement(xt,{onResize:oe,disabled:!(i||u)},r.createElement("textarea",xe({},R,{ref:z,style:g,className:W(t,b,be({},"".concat(t,"-disabled"),c)),disabled:c,value:P,onChange:U})))}),Yt=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Zt=k.forwardRef(function(e,a){var o,t=e.defaultValue,n=e.value,l=e.onFocus,i=e.onBlur,u=e.onChange,b=e.allowClear,m=e.maxLength,c=e.onCompositionStart,v=e.onCompositionEnd,R=e.suffix,D=e.prefixCls,p=D===void 0?"rc-textarea":D,P=e.showCount,H=e.count,U=e.className,z=e.style,B=e.disabled,Q=e.hidden,x=e.classNames,C=e.styles,L=e.onResize,J=e.onClear,X=e.onPressEnter,T=e.readOnly,A=e.autoSize,K=e.onKeyDown,S=Oe(e,Yt),_=ke(t,{value:n,defaultValue:t}),O=le(_,2),I=O[0],M=O[1],w=I==null?"":String(I),ae=k.useState(!1),oe=le(ae,2),y=oe[0],g=oe[1],$=k.useRef(!1),s=k.useState(null),h=le(s,2),d=h[0],ee=h[1],f=r.useRef(null),te=r.useRef(null),q=function(){var N;return(N=te.current)===null||N===void 0?void 0:N.textArea},ie=function(){q().focus()};r.useImperativeHandle(a,function(){var Z;return{resizableTextArea:te.current,focus:ie,blur:function(){q().blur()},nativeElement:((Z=f.current)===null||Z===void 0?void 0:Z.nativeElement)||q()}}),r.useEffect(function(){g(function(Z){return!B&&Z})},[B]);var de=k.useState(null),fe=le(de,2),ue=fe[0],pe=fe[1];k.useEffect(function(){if(ue){var Z;(Z=q()).setSelectionRange.apply(Z,De(ue))}},[ue]);var F=ut(H,P),j=(o=F.max)!==null&&o!==void 0?o:m,G=Number(j)>0,ne=F.strategy(w),Ae=!!j&&ne>j,we=function(N,ve){var ze=ve;!$.current&&F.exceedFormatter&&F.max&&F.strategy(ve)>F.max&&(ze=F.exceedFormatter(ve,{max:F.max}),ve!==ze&&pe([q().selectionStart||0,q().selectionEnd||0])),M(ze),Re(N.currentTarget,N,u,ze)},Ne=function(N){$.current=!0,c==null||c(N)},V=function(N){$.current=!1,we(N,N.currentTarget.value),v==null||v(N)},E=function(N){we(N,N.target.value)},Y=function(N){N.key==="Enter"&&X&&X(N),K==null||K(N)},ge=function(N){g(!0),l==null||l(N)},me=function(N){g(!1),i==null||i(N)},ce=function(N){M(""),ie(),Re(q(),N,u)},he=R,ye;F.show&&(F.showFormatter?ye=F.showFormatter({value:w,count:ne,maxLength:j}):ye="".concat(ne).concat(G?" / ".concat(j):""),he=k.createElement(k.Fragment,null,he,k.createElement("span",{className:W("".concat(p,"-data-count"),x==null?void 0:x.count),style:C==null?void 0:C.count},ye)));var ft=function(N){var ve;L==null||L(N),(ve=q())!==null&&ve!==void 0&&ve.style.height&&ee(!0)},mt=!A&&!P&&!b;return k.createElement(Je,{ref:f,value:w,allowClear:b,handleReset:ce,suffix:he,prefixCls:p,classNames:se(se({},x),{},{affixWrapper:W(x==null?void 0:x.affixWrapper,be(be({},"".concat(p,"-show-count"),P),"".concat(p,"-textarea-allow-clear"),b))}),disabled:B,focused:y,className:W(U,Ae&&"".concat(p,"-out-of-range")),style:se(se({},z),d&&!mt?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof ye=="string"?ye:void 0}},hidden:Q,readOnly:T,onClear:J},k.createElement(Gt,xe({},S,{autoSize:A,maxLength:m,onKeyDown:Y,onChange:E,onFocus:ge,onBlur:me,onCompositionStart:Ne,onCompositionEnd:V,className:W(x==null?void 0:x.textarea),style:se(se({},C==null?void 0:C.textarea),{},{resize:z==null?void 0:z.resize}),disabled:B,prefixCls:p,onResize:ft,ref:te,readOnly:T})))});const Qt=e=>{const{componentCls:a,paddingLG:o}=e,t=`${a}-textarea`;return{[`textarea${a}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${a}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${a}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[t]:{position:"relative","&-show-count":{[`> ${a}`]:{height:"100%"},[`${a}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${a},
        &-affix-wrapper${t}-has-feedback ${a}
      `]:{paddingInlineEnd:o},[`&-affix-wrapper${a}-affix-wrapper`]:{padding:0,[`> textarea${a}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${a}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${a}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${a}-affix-wrapper-sm`]:{[`${a}-suffix`]:{[`${a}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},Jt=Ze(["Input","TextArea"],e=>{const a=Qe(e,at(e));return[Qt(a)]},ot,{resetFont:!1});var en=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const tn=r.forwardRef((e,a)=>{var o;const{prefixCls:t,bordered:n=!0,size:l,disabled:i,status:u,allowClear:b,classNames:m,rootClassName:c,className:v,style:R,styles:D,variant:p,showCount:P,onMouseDown:H,onResize:U}=e,z=en(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:B,direction:Q,allowClear:x,autoComplete:C,className:L,style:J,classNames:X,styles:T}=Ye("textArea"),A=r.useContext(Be),K=i??A,{status:S,hasFeedback:_,feedbackIcon:O}=r.useContext(Ce),I=He(S,u),M=r.useRef(null);r.useImperativeHandle(a,()=>{var F;return{resizableTextArea:(F=M.current)===null||F===void 0?void 0:F.resizableTextArea,focus:j=>{var G,ne;et((ne=(G=M.current)===null||G===void 0?void 0:G.resizableTextArea)===null||ne===void 0?void 0:ne.textArea,j)},blur:()=>{var j;return(j=M.current)===null||j===void 0?void 0:j.blur()}}});const w=B("input",t),ae=lt(w),[oe,y,g]=tt(w,c),[$]=Jt(w,ae),{compactSize:s,compactItemClassnames:h}=Ke(w,Q),d=$e(F=>{var j;return(j=l??s)!==null&&j!==void 0?j:F}),[ee,f]=st("textArea",p,n),te=ct(b??x),[q,ie]=r.useState(!1),[de,fe]=r.useState(!1),ue=F=>{ie(!0),H==null||H(F);const j=()=>{ie(!1),document.removeEventListener("mouseup",j)};document.addEventListener("mouseup",j)},pe=F=>{var j,G;if(U==null||U(F),q&&typeof getComputedStyle=="function"){const ne=(G=(j=M.current)===null||j===void 0?void 0:j.nativeElement)===null||G===void 0?void 0:G.querySelector("textarea");ne&&getComputedStyle(ne).resize==="both"&&fe(!0)}};return oe($(r.createElement(Zt,Object.assign({autoComplete:C},z,{style:Object.assign(Object.assign({},J),R),styles:Object.assign(Object.assign({},T),D),disabled:K,allowClear:te,className:W(g,ae,v,c,h,L,de&&`${w}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},m),X),{textarea:W({[`${w}-sm`]:d==="small",[`${w}-lg`]:d==="large"},y,m==null?void 0:m.textarea,X.textarea,q&&`${w}-mouse-active`),variant:W({[`${w}-${ee}`]:f},Ve(w,I)),affixWrapper:W(`${w}-textarea-affix-wrapper`,{[`${w}-affix-wrapper-rtl`]:Q==="rtl",[`${w}-affix-wrapper-sm`]:d==="small",[`${w}-affix-wrapper-lg`]:d==="large",[`${w}-textarea-show-count`]:P||((o=e.count)===null||o===void 0?void 0:o.show)},y)}),prefixCls:w,suffix:_&&r.createElement("span",{className:`${w}-textarea-suffix`},O),showCount:P,ref:M,onResize:pe,onMouseDown:ue}))))}),Se=Pe;Se.Group=Ot;Se.Search=kt;Se.TextArea=tn;Se.Password=Lt;Se.OTP=_t;export{Se as I};
