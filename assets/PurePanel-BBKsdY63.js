import{r as t}from"./index-B4xE-HV-.js";import{a2 as z,a1 as C,q as R,C as S}from"./asyncToGenerator-C6G75KSx.js";import{u as I}from"./isVisible-BkP19VP2.js";const q=(s,r)=>{const e=t.useContext(z),u=t.useMemo(()=>{var o;const n=r||C[s],i=(o=e==null?void 0:e[s])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof n=="function"?n():n),i||{})},[s,r,e]),d=t.useMemo(()=>{const o=e==null?void 0:e.locale;return e!=null&&e.exist&&!o?C.locale:o},[e]);return[u,d]};function L(s){return r=>t.createElement(R,{theme:{token:{motion:!1,zIndexPopupBase:0}}},t.createElement(s,Object.assign({},r)))}const B=(s,r,e,u,d)=>L(n=>{const{prefixCls:i,style:P}=n,c=t.useRef(null),[b,x]=t.useState(0),[O,h]=t.useState(0),[f,j]=I(!1,{value:n.open}),{getPrefixCls:w}=t.useContext(S),y=w("select",i);t.useEffect(()=>{if(j(!0),typeof ResizeObserver<"u"){const g=new ResizeObserver(l=>{const a=l[0].target;x(a.offsetHeight+8),h(a.offsetWidth)}),v=setInterval(()=>{var l;const a=`.${y}-dropdown`,m=(l=c.current)===null||l===void 0?void 0:l.querySelector(a);m&&(clearInterval(v),g.observe(m))},10);return()=>{clearInterval(v),g.disconnect()}}},[]);let p=Object.assign(Object.assign({},n),{style:Object.assign(Object.assign({},P),{margin:0}),open:f,visible:f,getPopupContainer:()=>c.current});Object.assign(p,{[r]:{overflow:{adjustX:!1,adjustY:!1}}});const E={paddingBottom:b,position:"relative",minWidth:O};return t.createElement("div",{ref:c,style:E},t.createElement(s,Object.assign({},p)))});export{B as g,q as u,L as w};
