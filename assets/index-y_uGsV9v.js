import{r as d,j as s}from"./index-CUFjjiek.js";import{P as h,u as x}from"./constant-B4yIgTQB.js";import{u as b}from"./index-SaRg1vlj.js";import{g as D}from"./index-WRH6Zz3W.js";const I="_container_1osbo_1",v="_header_1osbo_10",F="_list_1osbo_17",V="_info_1osbo_23",p={container:I,header:v,list:F,info:V},y=t=>{var c;const r=(c=/\[(.*?)\]/.exec(t))==null?void 0:c[1],i=/\((.*?)\)/.exec(t),g=i?i[1]:"";return{bracketContent:r,urlContent:g}},j=d.memo(t=>{const{settings:r,info:i,title:g,settingValue:c,onSettingValueChange:a}=t,l=d.useRef(c),u=d.useRef(a);l.current=c,u.current=a;const n=d.useCallback((e,C)=>{const S={...l.current,[e.id]:C};u.current(S)},[]),{bracketContent:m,urlContent:f}=y(i??"");return s.jsxs("div",{className:p.container,children:[s.jsxs("div",{className:p.header,children:[g,i&&s.jsx("div",{children:s.jsx("a",{className:p.info,href:f,target:"_blank",rel:"noreferrer",children:m})})]}),s.jsx("div",{className:p.list,children:r.map(e=>{const C=D(e.type),S=e.id?c[e.id]:{value:""};return s.jsx(C,{setting:e,value:S,onChange:o=>{n(e,o)}},e.id??e.label)})})]})}),E=d.memo(()=>{var S;const t=h(o=>o.editor.currentEditingForm),r=h(o=>o.editor.sectionConfigData),i=h(o=>o.editor.allSectionSchema),{t:g}=x(),{type:c,sectionId:a,blockId:l}=t,u=r.sections[a],n=u.settingsData.blocks[l],m=i[u.type],f=(S=m.blocks)==null?void 0:S.find(o=>o.type===c),{updateBlockConfigData:e}=b(),C=d.useCallback(o=>{console.log("newSettingValue...",o);const k={...n,settings:o};e(a,l,k)},[n,l,a,e]);return f?s.jsx(j,{title:g(f.name),info:m.block_info?g(m.block_info):"",settings:(f==null?void 0:f.settings)??[],settingValue:(n==null?void 0:n.settings)||{},onSettingValueChange:C}):s.jsx("div",{children:"not found"})}),R="_nodata_19oeg_1",_={nodata:R},N=d.memo(()=>{const t=h(n=>n.editor.currentEditingForm),r=h(n=>n.editor.sectionConfigData),i=h(n=>n.editor.allSectionSchema),{t:g}=x(),c=i[t.type],a=r.sections[t.sectionId],{updateSectionConfigSectionBySectionId:l}=b(),u=d.useCallback(n=>{console.log("newSettingValue...",n);const m={...a,settingsData:{...a.settingsData,settings:n}};l(t.sectionId,m)},[t,a,l]);return s.jsx(j,{title:g(c.name),settings:c.settings??[],settingValue:a.settingsData.settings,onSettingValueChange:u})}),M=d.memo(()=>{const t=h(i=>i.editor.currentEditingForm),{t:r}=x();if(!t)return s.jsx("div",{className:[_.container,_.nodata].join(" "),children:r("editor.nosetting")});if(t.sectionId&&!t.blockId)return s.jsx(N,{});if(t.sectionId&&t.blockId)return s.jsx(E,{})});export{M as default};
